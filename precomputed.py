current_knight_pos = 0b101000010001000000000001000100001010

FILE_H = 0b100000001000000010000000100000001000000010000000100000001
FILE_G = FILE_H << 1
FILE_A = 0b1000000010000000100000001000000010000000100000001000000010000000
FILE_B = FILE_A >> 1

LSB_LOOKUP = {
  1: 0,
  2: 1,
  4: 2,
  8: 3,
  16: 4,
  32: 5,
  64: 6,
  128: 7,
  256: 8,
  512: 9,
  1024: 10,
  2048: 11,
  4096: 12,
  8192: 13,
  16384: 14,
  32768: 15,
  65536: 16,
  131072: 17,
  262144: 18,
  524288: 19,
  1048576: 20,
  2097152: 21,
  4194304: 22,
  8388608: 23,
  16777216: 24,
  33554432: 25,
  67108864: 26,
  134217728: 27,
  268435456: 28,
  536870912: 29,
  1073741824: 30,
  2147483648: 31,
  4294967296: 32,
  8589934592: 33,
  17179869184: 34,
  34359738368: 35,
  68719476736: 36,
  137438953472: 37,
  274877906944: 38,
  549755813888: 39,
  1099511627776: 40,
  2199023255552: 41,
  4398046511104: 42,
  8796093022208: 43,
  17592186044416: 44,
  35184372088832: 45,
  70368744177664: 46,
  140737488355328: 47,
  281474976710656: 48,
  562949953421312: 49,
  1125899906842624: 50,
  2251799813685248: 51,
  4503599627370496: 52,
  9007199254740992: 53,
  18014398509481984: 54,
  36028797018963968: 55,
  72057594037927936: 56,
  144115188075855872: 57,
  288230376151711744: 58,
  576460752303423488: 59,
  1152921504606846976: 60,
  2305843009213693952: 61,
  4611686018427387904: 62,
  9223372036854775808: 63
}

KNIGHT_MOVES = {}

import numpy as np

count = 0b1
for i in range(0, 64):
    position = LSB_LOOKUP[count << i]
    if position > 18:
        LSB = current_knight_pos << (position-18)
    else:
        LSB = current_knight_pos >> (18-position)
    print(position%8)
    if position%8 < 4:
        LSB &= ~(FILE_A|FILE_B)
    else:
        LSB &= ~(FILE_G|FILE_H)
    KNIGHT_MOVES[i] = LSB

print(KNIGHT_MOVES)
print((current_knight_pos >> 9)&~(FILE_A|FILE_B))
print(bin(460039))

